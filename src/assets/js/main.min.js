"use strict";function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(e){_defineProperty(t,e,n[e])})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var anime=require(__dirname+"/assets/js/anime.min.js"),DB=shuffle(require(__dirname+"/assets/api.json")),playBtn=document.getElementById("play"),gameSection=document.getElementById("game"),questionH3=document.getElementsByTagName("h3")[0],answerDivs=document.getElementsByClassName("answer"),counterIs=document.getElementsByClassName("round"),state={started:!(anime.easings.playBtn=function(e){return Math.pow(Math.sin(3*e),3)}),choosen:!1,n:0,max:counterIs.length,counter:0,current:{},gameX:550};function opening(){var e=!0,t=!1,n=void 0;try{for(var a=function e(){var t=s.value;t.addEventListener("mouseover",function(){mouseIn(t)}),t.addEventListener("mouseout",function(){mouseOut(t)}),t.addEventListener("click",function(){click(t)})},i=answerDivs[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0)a()}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}document.addEventListener("mouseup",function(e){1==e.button&&alert("Creado por JuanM04")}),anime.timeline().add({targets:"h1",translateY:[{value:r(-750),duration:0},{value:0,duration:2e3,delay:1e3}]}).add({targets:"h2",opacity:1,duration:2e3,easing:"linear"}).add({targets:"#play",opacity:{value:1,duration:500,easing:"linear"},scale:{value:1.25,delay:500,duration:1e3,easing:"playBtn"}})}function startGame(t){var e=t?r(-state.gameX):[{value:r(state.gameX),easing:"easeInExpo"},{value:r(-state.gameX),delay:1e3}];anime({targets:"#game",translateY:e,duration:2e3,begin:function e(){setTimeout(function(){var e=(state=_objectSpread({},state,{choosen:!1,current:DB[state.n]})).current.a[state.current.t];state.current.a=shuffle(state.current.a),state.current.t=state.current.a.indexOf(e),anime({targets:".answer",background:"#212121",duration:0});for(var t=0;t<answerDivs.length;t++)answerDivs[t].innerHTML="<p>".concat(state.current.a[t],"</p>");questionH3.innerHTML=state.current.q},t?0:1e3)}})}function mouseIn(e){state.choosen||anime({targets:e,background:"#ffa000",scale:1.15,zIndex:{value:5,duration:0},duration:500})}function mouseOut(e){state.choosen||anime({targets:e,background:"#212121",scale:1,zIndex:{value:1,duration:0},duration:500})}function click(t){state.choosen||(mouseOut(t),state.choosen=!0,t.id.split("")[1]==state.current.t?(anime({targets:t,background:"#4caf50",duration:500}),state.counter++):(anime({targets:t,background:"#f44336",duration:500}),anime({targets:answerDivs[state.current.t],background:"#4caf50",duration:500})),anime({targets:counterIs[state.n],color:[{value:"#212121",duration:0},{value:"#fafafa",duration:1e3}],run:function e(){counterIs[state.n].classList.add(t.id.split("")[1]==state.current.t?"fa-check":"fa-times")}}),setTimeout(function(){state.n++,state.n<state.max?startGame():finishGame()},3e3))}function finishGame(){anime.timeline().add({targets:"#game",translateY:r(state.gameX),easing:"easeInExpo",duration:2e3,complete:function e(){state.counter==state.max?questionH3.innerHTML="Â¡Felicitaciones, sos un EXPERTO de las ABEJAS!<br><br><br>Ganaste un FRASCO de MIEL":questionH3.innerHTML="Por desgracia, no ganaste nada, pero espero que hayas aprendido algo c:"}}).add({targets:"h3, #counter",translateY:r(-1e3),duration:2e3}).add({targets:"#play",opacity:[{value:0,duration:0},{value:1,duration:500,easing:"linear"}],scale:{value:1.25,delay:500,duration:1e3,easing:"playBtn"},begin:function e(){playBtn.innerHTML="REINICIAR <i class='fas fa-undo'></i>",playBtn.style.visibility="visible",playBtn.addEventListener("click",function(){location.reload()})}})}function r(e){return window.innerHeight*e/1440}function shuffle(e){for(var t=e.length,n,a;0!==t;)a=Math.floor(Math.random()*t),n=e[t-=1],e[t]=e[a],e[a]=n;return e}playBtn.addEventListener("mouseover",function(){anime({targets:"#play",scale:1.25,duration:500})}),playBtn.addEventListener("mouseout",function(){anime({targets:"#play",scale:1,duration:500})}),playBtn.addEventListener("click",function(){state.started||(state.started=!0,anime({targets:"#play",opacity:0,duration:500,easing:"linear"}).finished.then(function(){playBtn.style.visibility="hidden",anime({targets:"h1, h2",translateY:r(-200),duration:3e3,complete:function e(){gameSection.style.visibility="visible"}}).finished.then(function(){return startGame(!0)})}))}),opening();